self.addEventListener('fetch',function(e){console.log('Handling fetch event for',e.request.url);e.respondWith(caches.match(e.request).then(function(n){if(n){console.log('Found response in cache:',n);return n};console.log('No response found in cache. About to fetch from network...');return fetch(e.request).then(function(e){console.log('Response from network is:',e);return e},function(e){console.error('Fetching failed:',e);throw e})}))});